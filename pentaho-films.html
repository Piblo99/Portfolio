<!DOCTYPE HTML>
<html>
	<head>
		<title>Paul Hankins</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism-dark.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.css" integrity="sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header">
					<a href="index.html" class="logo">Home</a>
				</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">About me</a></li>
							<li  class="active"><a href="engineer-projects-1.html">Data Engineer Projects</a></li>
                            <li><a href="analytics-projects-1.html">Data Analytics Projects</a></li>
						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/paul-hankins-075119204/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
							<li><a href="https://github.com/Piblo99" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
                                <header class="major">
                                    <h1>Pentaho Film Rentals<br />
                                        Data Warehouse</h1>
                                    <p>The objective of this project was to learn the technical aspects of data warehousing with a focus on dimensional modeling.
                                        These step by step processes used to create the dimension and fact tables in this project can be generalized to many other
                                        data integration tools but pentaho was used for demonstration.
                                    </p>
                                </header>
                                <h2 style="text-align:center;">Source and Destination Connections</h2>
                                <p>
                                    Before we start doing any Transformations, we need our source and destination!
                                    For our source we will be using the Sakila sample database, which is well known
                                    for instructional projects, and the schema for it can be seen below.
                                </p>
                                <div class="image main"><img src="images/sakila_full_database_schema_diagram.png" alt="" /></div>
                                <p>
                                    For the Destination, I made a schema containing 5 Dimension Tables and 1 Fact Table;
                                    dim_date, dim_time, dim_customer, dim_film, dim_store, and fact_rental.

                                    With our Source filled with data, and our destination warehouse created, 
                                    we can move on to the transformation steps and the main job to execute them.
                                </p>
                                <h2 style="text-align:center;">Date Dimension</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_date_steps.png" alt="" /></div>
                                <p>There is no Date Table in the source database, so the dim_date table should be created from scratch.</p>
                                <ol>
                                    <li>The Generate rows step is used to create a column called datein of type Date with a format of yyyy-MM-dd and a value of 2000-01-01 for each row.</li>
                                    <li>The Add sequence step is used to create a column called valuename that consists of integers incrementing by one, starting with one.</li>
                                    <li>The calculator step is used to create a new column called dates, with a calculation of Date A + B Days. A is set to datein, and B is set to valuename. The output type and format will be the same as datein. In this same step we can add 3 more columns; the_year, the_month, and the_day. They would have calculations of Year of date A, Month of date A, and Day of month of date A respectively. A in this case would be the dates column, and these three columns will have the type of String.
                                        The Strings cut step uses the dates column as an In stream Field to create 3 new Out Stream fields called years, months, and days. These 3 new columns are cut from 0 to 4, 5 to 7, and 8 to 10 respectively.</li>
                                    <li>The Concat fields step is used to concatenate the year, month, and day values to create a date_key column.</li>
                                    <li>The String Operations step is used trim both sides of the fields: the_year, the_month, and the_day. In this step, the same columns are also given additional padding of length 2 with a pad character of 0.</li>
                                    <li>The update data types step is used to Rename the following fields: dates to datein, the_year to years, the_month to months, the_day, date_key. This step is also used to change the data tapes of the following columns: dates to Date, the_year to String, the_month String, the_day to String, and date_key to integer. Lastly, this step is used to change the following column lengths: the_year to 4, the_month to 2, the_day to 2, and date_key to 10</li>
                                    <li>The Table output step is used last and we set the target table to dim_date.</li>
                                </ol>
                                <h2 style="text-align:center;">Time Dimension</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_time_steps.png" alt="" /></div>
                                <p>(This tranformation has more steps not seen in the above image)</p>
                                <ol>
                                    <li>The Generate Rows steps are used twice to create an hours column with 24 rows, and a minutes column with 60 rows, with all their values being 0.</li>
                                    <li>The Add sequence steps are used to increment the hours columns so the values go from 0 to 23, and minutes go from 0 to 59. Then these values are put into new columns called Add_hours and Add_minutes.</li>
                                    <li>The Select values - drop columns steps are used to convert the Add_hours and Add_minutes column to type String and rename them to hours_id and minutes_id. This step also changes the Length of Add_hours and Add_minutes to 2.</li>
                                    <li>The Cartesian Join step is used to produce the cartesian product of hours_id and minutes_id.</li>
                                    <li>The String Operations step is used to add left padding of length 2 with the pad character of 0 to hours_id and minutes_id.</li>
                                    <li>The Javascript Step is used to assign the concatenation of hours_id + " : " + minutes_id to a new column called time_id.</li>
                                    <li>The Add constants step is used to create a column called temp_hour that contains rows each having a value of 1.</li>
                                    <li>The Set value Step is used to create a column of temp_hour called hour_id</li>
                                    <li>The Select Values Step is used to change temp_hour into an integer.</li>
                                    <li>The Filter Rows Step is used to Filter our data based on the temp_hour column. If the value of temp_hour is less than 12 the data will be sent to the Add constants AM step, otherwise the data will be sent to the Add constants - PM step.</li>
                                    <li>The add Constants PM fills the values of the hour_type column to PM.</li>
                                    <li>The add Constants AM fills the values of the hour_type column to AM.</li>
                                    <li>The dummy step does nothing and is just to see the output of the two add constant steps before.</li>
                                    <li>The time_seq step is used to create a column called time_seq that has a value incrementing from 1. It is also used to rename the column time_id to time_desc.</li>
                                    <li>The Table output step is used last and we set the target table to dim_time.</li>
                                </ol>
                                <h2 style="text-align:center;">Customer Dimension</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_date_steps.png" alt="" /></div>
                                <ol>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                </ol>
                                <h2 style="text-align:center;">Film Dimension</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_date_steps.png" alt="" /></div>
                                <ol>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                </ol>
                                <h2 style="text-align:center;">Store Dimension</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_date_steps.png" alt="" /></div>
                                <ol>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                </ol>
                                <h2 style="text-align:center;">Rentals Fact</h2>
                                <div class="image main"><img src="images/pentaho_films_dim_date_steps.png" alt="" /></div>
                                <ol>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                    <li>stepstepstep</li>
                                </ol>
							</section>

					</div>

				<!-- Footer -->
                <footer id="footer">
                    <section class="alt">
                        <h3>Address</h3>
                        <p>BARTLESVILLE, OK</p>
                    </section>
                    <section>
                        <h3>Phone</h3>
                        <p>(504) 201-4748</p>
                    </section>
                    <section>
                        <h3>Email</h3>
                        <p>paulhankins99@gmail.com</p>
                    </section>
                    <section>
                        <h3>Social</h3>
                        <ul class="icons alt">
                            <li><a href="https://www.linkedin.com/in/paul-hankins-075119204/" class="icon brands alt fa-linkedin"><span class="label">Linkedin</span></a></li>
                            <li><a href="https://github.com/Piblo99" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                        </ul>
                    </section>
            </footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.js" integrity="sha512-st608h+ZqzliahyzEpETxzU0f7z7a9acN6AFvYmHvpFhmcFuKT8a22TT5TpKpjDa3pt3Wv7Z3SdQBCBdDPhyWA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js" integrity="sha512-/kVH1uXuObC0iYgxxCKY41JdWOkKOxorFVmip+YVifKsJ4Au/87EisD1wty7vxN2kAhnWh6Yc8o/dSAXj6Oz7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-python.min.js" integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	</body>
</html>